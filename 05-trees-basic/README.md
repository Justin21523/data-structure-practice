# 第五章：基礎樹結構（Basic Tree Structures）

本章介紹樹（tree）的基本概念，以及兩種重要的樹結構：二元樹（binary tree）與二元搜尋樹（binary search tree, BST）。

## 學習目標

- 理解樹的基本術語與性質
- 掌握二元樹與 BST 的實作
- 學會各種樹遍歷方法

## 單元列表

| 單元 | 主題 | 說明 |
|------|------|------|
| 01 | [二元樹](./01-binary-tree/) | 二元樹結構與基本操作 |
| 02 | [二元搜尋樹](./02-binary-search-tree/) | BST 性質與操作 |
| 03 | [樹遍歷](./03-tree-traversal/) | 前序、中序、後序、層序遍歷 |

## 基本術語

```
            A          ← root（根節點）
           / \
          B   C        ← internal nodes（內部節點）
         / \   \
        D   E   F      ← leaves（葉節點）
```

| 術語 | 英文 | 說明 |
|------|------|------|
| 根節點 | root | 樹的最頂端節點 |
| 葉節點 | leaf | 沒有子節點的節點 |
| 內部節點 | internal node | 至少有一個子節點 |
| 父節點 | parent | 直接上層的節點 |
| 子節點 | child | 直接下層的節點 |
| 兄弟節點 | sibling | 同一父節點的節點 |
| 深度 | depth | 從根到該節點的邊數 |
| 高度 | height | 從該節點到最深葉節點的邊數 |
| 層級 | level | 深度 + 1 |

## 二元樹性質

### 節點數與高度的關係

| 類型 | 節點數 n | 高度 h |
|------|---------|--------|
| 一般二元樹 | — | h ≤ n-1 |
| 完全二元樹 | 2^h ≤ n ≤ 2^(h+1)-1 | h = ⌊log₂n⌋ |
| 完美二元樹 | n = 2^(h+1) - 1 | h = log₂(n+1) - 1 |

### 特殊二元樹

| 類型 | 定義 |
|------|------|
| 完滿二元樹（full） | 每個節點有 0 或 2 個子節點 |
| 完全二元樹（complete） | 除最後一層外皆滿，最後一層靠左 |
| 完美二元樹（perfect） | 所有葉節點在同一層，所有內部節點有 2 個子節點 |
| 歪斜樹（skewed） | 所有節點只有左子或只有右子 |

## 二元搜尋樹（BST）性質

對於任意節點 x：
- 左子樹所有節點的值 < x 的值
- 右子樹所有節點的值 > x 的值

```
        8
       / \
      3   10
     / \    \
    1   6    14
       / \   /
      4   7 13
```

### 操作時間複雜度

| 操作 | 平均 | 最差（歪斜樹） |
|------|------|---------------|
| 搜尋 | O(log n) | O(n) |
| 插入 | O(log n) | O(n) |
| 刪除 | O(log n) | O(n) |
| 找最小/最大 | O(log n) | O(n) |

## 樹遍歷（Tree Traversal）

### 深度優先遍歷（DFS）

```
        1
       / \
      2   3
     / \
    4   5
```

| 方法 | 順序 | 結果 | 應用 |
|------|------|------|------|
| 前序（preorder） | 根→左→右 | 1,2,4,5,3 | 複製樹、前序表示式 |
| 中序（inorder） | 左→根→右 | 4,2,5,1,3 | BST 排序輸出 |
| 後序（postorder） | 左→右→根 | 4,5,2,3,1 | 刪除樹、後序表示式 |

### 廣度優先遍歷（BFS）

| 方法 | 順序 | 結果 |
|------|------|------|
| 層序（level-order） | 逐層由左至右 | 1,2,3,4,5 |

## 考試重點

1. **遍歷相關**
   - 給前序+中序，還原樹並求後序
   - 遞迴與非遞迴的遍歷實作

2. **BST 操作**
   - 插入節點（畫圖）
   - 刪除節點（三種情況）
   - 驗證是否為合法 BST

3. **性質計算**
   - 節點數、高度、葉節點數的關係
   - 完全二元樹的陣列表示

## 延伸閱讀

- CLRS Chapter 12: Binary Search Trees
- Goodrich Chapter 7: Tree Structures
